import { run, bench, summary } from "mitata";
import { createNearbyGraph } from "../build/release.js";

const input = new Float32Array([
	5.647883892059326, 12.110956192016602, -9.209344863891602,
	-14.351179122924805, 8.684858322143555, 1.6636357307434082,
	-4.836563587188721, 10.274323463439941, -9.689332962036133,
	-15.502997398376465, 9.768767356872559, -3.082990884780884,
	-16.21775245666504, 15.513973236083984, -1.9689738750457764,
	-12.237065315246582, 23.742429733276367, 0.6382521986961365,
	-0.12670260667800903, 17.02418327331543, 5.557003021240234,
	-11.116153717041016, 26.049625396728516, -3.6497464179992676,
	-4.538069725036621, 8.966020584106445, -8.858147621154785,
	-17.315893173217773, 7.14089822769165, -6.470953941345215,
	-11.182554244995117, 8.958240509033203, -9.183714866638184,
	-16.37932014465332, 8.640093803405762, -2.7645246982574463,
	-0.04239906743168831, 20.130361557006836, -6.9113922119140625,
	-0.667548656463623, 16.144180297851562, -1.6097633838653564,
	-2.471318006515503, 17.310062408447266, 5.6517014503479, -1.426863670349121,
	18.28084945678711, -10.823927879333496, -1.5799274444580078,
	16.41252899169922, -6.217305660247803, -18.93594741821289, 13.596580505371094,
	-2.805793046951294, 1.3381638526916504, 14.027871131896973,
	-4.673496246337891, -5.91309928894043, 15.005823135375977, 1.7417656183242798,
	2.2316861152648926, 20.241113662719727, -2.039275646209717, 4.18443489074707,
	11.351506233215332, -8.129023551940918, -1.1410304307937622,
	22.841007232666016, 2.6213603019714355, 0.5299811363220215,
	22.587059020996094, -2.357086181640625, -2.474334955215454,
	16.921457290649414, -9.93507194519043, -3.559314250946045, 19.20674705505371,
	-4.418954849243164, -0.40448901057243347, 15.672492027282715,
	-1.4157332181930542, -6.5710039138793945, 17.139326095581055,
	-8.443050384521484, -1.2249475717544556, 20.155370712280273,
	-0.30710721015930176, -6.7855634689331055, 21.43027687072754,
	-0.04748709127306938, -4.277234077453613, 12.954144477844238,
	-10.318946838378906, -3.7503085136413574, 14.686851501464844,
	-5.263546943664551, -6.567568302154541, 17.552274703979492,
	-8.562392234802246, -2.915928363800049, 19.566896438598633,
	-5.271751880645752, -5.103710174560547, 21.105859756469727,
	-7.991130352020264, 2.3903355598449707, 22.330663681030273,
	-1.6475938558578491, -5.44484806060791, 14.916007041931152, 6.740797519683838,
	-9.226717948913574, 21.460174560546875, 2.5563173294067383,
	6.2369232177734375, 13.377775192260742, -5.481863498687744,
	-14.59238052368164, 7.1183342933654785, 1.3323971033096313,
	-15.786317825317383, 11.270744323730469, 2.0183842182159424,
	-14.259714126586914, 13.308528900146484, 4.9231462478637695,
	-4.342977523803711, 20.266101837158203, 5.23877477645874, 5.893238544464111,
	9.836700439453125, -3.3040823936462402, -6.521907329559326,
	19.362030029296875, -9.437043190002441, -14.399698257446289,
	12.006305694580078, 1.7552578449249268, -17.998828887939453,
	11.445720672607422, -0.9960736632347107, -18.386993408203125,
	13.52793025970459, -1.4860106706619263, 1.336547613143921, 12.048127174377441,
	-3.310479164123535, -1.8628532886505127, 11.123248100280762,
	-1.342265009880066, -14.76379680633545, 17.30930519104004,
	-3.3724541664123535, -13.458255767822266, 5.43887996673584, -7.3869948387146,
	0.18845903873443604, 10.238996505737305, -3.002337694168091,
	0.8471813797950745, 18.180072784423828, -6.351930141448975,
	-1.1309493780136108, 15.569896697998047, -1.2786766290664673,
	-2.4178202152252197, 19.622581481933594, 0.45058712363243103,
	-18.742042541503906, 19.083223342895508, -5.795400142669678,
	-8.933745384216309, 9.733675956726074, 0.4077090620994568,
	-6.5937371253967285, 16.293502807617188, 1.2752153873443604,
	-4.522634983062744, 7.174073219299316, -1.559359073638916,
	-0.2574165165424347, 13.713822364807129, -8.348406791687012,
	-0.7954585552215576, 15.417597770690918, -1.354485034942627,
	-5.369627475738525, 19.133331298828125, -3.982577085494995,
	-5.132967472076416, 18.427562713623047, -3.6825664043426514,
	-6.229793548583984, 22.645179748535156, -2.586193561553955,
	-9.480456352233887, 21.027463912963867, -5.681752681732178,
	-3.994962692260742, 9.88437557220459, -5.944940567016602, -6.042816638946533,
	17.86985969543457, -3.5118727684020996, -7.854338645935059,
	12.117144584655762, -9.093010902404785, -9.372024536132812,
	15.222970008850098, -11.063606262207031, -11.838897705078125,
	19.83172607421875, -6.409630298614502, -9.037908554077148, 13.673678398132324,
	-10.736340522766113, -3.2268311977386475, 13.273037910461426,
	2.7145144939422607, 2.215104579925537, 12.3267183303833, -5.907729148864746,
	12.730863571166992, 10.060524940490723, -2.9023876190185547,
	10.208232879638672, 11.02041244506836, -0.21074184775352478,
	10.621922492980957, 11.408524513244629, -1.9562485218048096,
	-16.145471572875977, 19.02134895324707, 1.7812864780426025,
	-9.363920211791992, 8.497756004333496, 0.2143564075231552, 0.3261665999889374,
	11.423844337463379, 1.777685523033142, 7.1820149421691895, 12.949822425842285,
	-5.041388511657715, 1.759622573852539, 12.576004981994629, -6.657005310058594,
	-1.0594677925109863, 8.93593978881836, 0.5236365795135498,
	-20.394739151000977, 11.472455024719238, 0.8033321499824524,
	0.8911110758781433, 12.693977355957031, -3.480087995529175,
	-2.066070556640625, 25.999719619750977, -3.052426338195801,
	-3.8207547664642334, 13.272748947143555, 2.7207143306732178,
	-0.1313643753528595, 6.651688575744629, -7.314971923828125,
	-14.14529800415039, 22.717519760131836, -7.0149455070495605, 2.47444748878479,
	16.39381980895996, -5.408578395843506, -4.422255516052246, 9.999356269836426,
	-6.402618408203125, -9.55154800415039, 6.112192153930664, -5.181631565093994,
	-1.645706057548523, 23.996034622192383, -6.782826900482178,
	-2.371089458465576, 8.126822471618652, -6.850017070770264,
	-1.3964394330978394, 24.31484603881836, 1.6325600147247314,
	-4.155570030212402, 22.300607681274414, 4.119941234588623, -5.02040958404541,
	9.46282958984375, -5.444884300231934, -3.3626492023468018, 14.42125415802002,
	-5.514721393585205, -3.698946714401245, 18.39143180847168, 0.8749604225158691,
	-10.136344909667969, 15.024744987487793, -6.028648376464844,
	-5.75928258895874, 18.726150512695312, -3.691877603530884, -9.076654434204102,
	21.811986923217773, -4.539459228515625, -8.595898628234863,
	10.394340515136719, -9.287619590759277, -5.61577844619751, 13.493797302246094,
	-6.204685211181641, -9.859064102172852, 15.257757186889648,
	-6.072901248931885, -9.959150314331055, 15.15187931060791,
	-6.0613274574279785, -12.167130470275879, 18.471134185791016,
	-9.20313549041748, -10.548567771911621, 19.236270904541016,
	-9.441670417785645, -8.155189514160156, 10.888516426086426,
	1.8383805751800537, -8.116659164428711, 8.768608093261719, 5.201077461242676,
	-10.557514190673828, 14.57741928100586, 6.005374431610107,
	-2.1787259578704834, 6.613515853881836, -3.1233365535736084,
	-14.318888664245605, 3.8964362144470215, -0.1533195972442627,
	1.4146738052368164, 12.316065788269043, 2.870206117630005,
	-0.43800294399261475, 16.717355728149414, 3.4743454456329346,
	-10.578946113586426, 4.8166279792785645, -0.21567402780056,
	-15.866531372070312, 15.566178321838379, -7.93412446975708,
	-13.347867965698242, 4.552418231964111, -3.901829719543457,
	-9.834081649780273, 23.153295516967773, -4.672860622406006, 4.350260257720947,
	13.95556354522705, -1.3352657556533813, -1.9549492597579956,
	15.716269493103027, -1.254184603691101, -4.906142234802246,
	10.841951370239258, -1.7107322216033936, 2.052708625793457,
	20.926759719848633, -6.750837326049805, 6.895898342132568, 6.770613670349121,
	-4.579778671264648, -10.914315223693848, 2.4184207916259766,
	-4.480782508850098, 4.6759209632873535, 18.4189453125, 1.8138047456741333,
	-12.25749397277832, 8.81231689453125, -7.969030380249023, -4.1420722007751465,
	14.436214447021484, -5.403866767883301, -7.110941410064697, 22.5296688079834,
	0.8816950917243958, -14.151937484741211, 24.462430953979492,
	-6.121584892272949, 7.134222030639648, 8.904566764831543, -8.423202514648438,
	-7.401016712188721, 22.119470596313477, -0.22925008833408356,
	-9.262164115905762, 6.562942028045654, -4.9294562339782715,
	-7.718870162963867, 14.419483184814453, -1.650661826133728,
	-7.814566612243652, 14.428573608398438, -1.8687777519226074,
	-17.437936782836914, 19.030065536499023, -4.720818996429443,
	-8.991508483886719, 10.170515060424805, -4.495847702026367,
	-11.346905708312988, 17.91217803955078, -2.1316919326782227,
	-5.712888717651367, 13.524007797241211, -5.842623233795166,
	-13.539681434631348, 14.061837196350098, -10.429636001586914, -8.98193359375,
	10.198931694030762, -4.519129276275635, -12.61204719543457, 11.3822021484375,
	-8.357548713684082, -11.361336708068848, 17.634628295898438,
	-2.2242839336395264, -11.748664855957031, 19.274219512939453,
	-4.246397018432617, 2.259977340698242, 18.873416900634766, -4.027536392211914,
	-11.024930000305176, 22.561141967773438, 3.8272035121917725,
	-5.038323879241943, 7.808566093444824, 2.288229465484619, -1.5660089254379272,
	7.316591262817383, -3.1128900051116943, -6.818168640136719, 24.45772933959961,
	-4.809879779815674, 4.3380913734436035, 14.300141334533691,
	-0.6882008910179138, -8.0198335647583, 4.888493061065674, -4.518897533416748,
	-7.237100124359131, 4.407171249389648, -1.3815711736679077,
	1.3007943630218506, 16.154273986816406, 3.011110305786133, 7.368838787078857,
	8.218242645263672, -3.383775472640991, -9.68727970123291, 17.329029083251953,
	5.5984320640563965, 3.8110668659210205, 15.84445858001709, -6.064143180847168,
	-4.697277069091797, 10.996492385864258, -1.6228976249694824,
	-4.306859016418457, 11.115931510925293, -1.6992782354354858,
	-6.386935710906982, 17.668230056762695, 1.1485458612442017,
	-4.515785217285156, 13.507427215576172, 2.27732515335083, -8.687787055969238,
	12.239990234375, 4.732059955596924, 4.327216625213623, 18.34287452697754,
	-2.4709701538085938, -14.175259590148926, 5.211841583251953,
	-3.5158333778381348, -10.77000904083252, 13.58150863647461,
	-1.2825465202331543, -14.074747085571289, 14.606672286987305,
	1.515872597694397, -3.9392988681793213, 22.275850296020508,
	-7.993298530578613, -12.483589172363281, 23.20574188232422,
	-1.2768198251724243, 2.498215675354004, 21.317209243774414,
	2.9359617233276367, -13.849215507507324, 6.045740604400635,
	-2.8082823753356934, -9.48425006866455, 9.915093421936035, -4.58269739151001,
	-10.278322219848633, 9.554144859313965, -4.494072914123535,
	-10.575029373168945, 17.850299835205078, -1.7506258487701416,
	-6.215148448944092, 26.336580276489258, -0.11325670778751373,
	-9.82585620880127, 12.449164390563965, 3.4745779037475586,
	-14.005898475646973, 10.087193489074707, -7.857053756713867,
	-16.815458297729492, 9.92748737335205, -7.810462474822998,
	-17.057510375976562, 13.024269104003906, -6.965846061706543,
	-9.609865188598633, 17.075817108154297, 3.089444398880005, -15.82181453704834,
	15.843132019042969, -2.9392149448394775, -10.972556114196777,
	14.445457458496094, -6.160122871398926, -2.9439215660095215,
	10.605194091796875, 5.563289642333984, -16.85662269592285, 21.68775749206543,
	-2.097240686416626, -5.6335039138793945, 6.767261028289795,
	2.3352792263031006, -1.7835315465927124, 26.40705680847168,
	0.7797213792800903, 2.9596378803253174, 16.91200828552246, 1.6998575925827026,
	-4.052227973937988, 23.51546287536621, -2.9414565563201904,
	-9.441585540771484, 6.33704948425293, -0.6638351082801819,
	0.31841540336608887, 11.391971588134766, 1.336162805557251,
	-15.723054885864258, 16.819347381591797, 2.582618474960327,
	-9.782939910888672, 18.230981826782227, 2.775475263595581,
	-1.6605522632598877, 22.974397659301758, -3.177502393722534,
	-1.4733699560165405, 15.81075668334961, -9.579209327697754,
	-13.618151664733887, 7.453982353210449, -3.2383837699890137,
	-3.369473695755005, 19.114667892456055, 0.5955759286880493,
	-10.898728370666504, 12.977898597717285, -1.3823047876358032,
	-8.017945289611816, 14.324928283691406, -1.559380054473877,
	-8.566707611083984, 9.151289939880371, 0.24897980690002441,
	-4.533179759979248, 11.057451248168945, -1.5870132446289062,
	-13.070477485656738, 7.7910566329956055, 1.4736663103103638,
	-8.417463302612305, 13.438132286071777, -1.6370242834091187,
	-11.17608642578125, 11.259222984313965, 3.738548755645752, -7.830502986907959,
	16.530750274658203, 2.858433246612549, -12.741752624511719,
	16.025617599487305, 2.0979459285736084, -6.726133823394775, 22.38442611694336,
	-8.912562370300293, -14.899090766906738, 9.858786582946777,
	-2.8966245651245117, -12.507747650146484, 13.185714721679688,
	0.580043613910675, -15.696687698364258, 16.93630599975586,
	-0.42042267322540283, -12.900104522705078, 19.034393310546875,
	-6.920152187347412, -11.358009338378906, 18.405004501342773,
	0.06415798515081406, -15.438431739807129, 17.8896427154541,
	-9.184060096740723, -16.136157989501953, 10.517300605773926,
	-2.8753323554992676, -12.593219757080078, 9.763622283935547,
	-3.058173894882202, -12.516646385192871, 12.164447784423828,
	-1.7138280868530273, -15.575872421264648, 14.12315559387207,
	-5.410650730133057, -14.177989959716797, 21.025474548339844,
	-0.20818546414375305, -14.415956497192383, 14.193442344665527,
	-5.594039440155029,
]);

summary(() =>
	bench("nearbyGraph", () => {
		createNearbyGraph(input, 5);
	}),
);

await run();
